<!DOCTYPE html>
<html lang="{{ page.lang | default: 'es' }}">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Título dinámico con fallback -->
  <title>{{ page.title | default: 'EGGS-Studio | Arte visual y murales en La Florida, Santiago' }}</title>

  <!-- Meta Etiquetas Principales para SEO -->
  <meta name="description" content="{{ page.description | default: 'EGGS-Studio: arte visual, murales comunitarios y restauración de obras en La Florida, Santiago de Chile.' }}">
  <meta name="keywords" content="{{ page.keywords | default: 'arte visual, murales comunitarios, restauración de arte, diseño artístico, La Florida, Santiago' }}">
  <meta name="author" content="EGGS-Studio">
  <meta name="robots" content="index, follow">
  <meta name="language" content="es-CL">

  <!-- Favicon -->
  <link rel="icon" href="/assets/img/EGGSLOGOindex1.png" type="image/png" sizes="32x32">

  <!-- Color de la barra de navegación en móviles -->
  <meta name="theme-color" content="#000000">

  <!-- URL canónica -->
  <link rel="canonical" href="{{ site.url | default: 'https://eggs-studio.cl' }}{{ page.url }}">

  <!-- Open Graph -->
  <meta property="og:title" content="{{ page.title | default: 'EGGS-Studio | Arte y murales en La Florida, Santiago' }}">
  <meta property="og:description" content="{{ page.description | default: 'Murales comunitarios, restauración de arte y proyectos visuales creados por Esteban Garnica en La Florida, Santiago de Chile.' }}">
  <meta property="og:type" content="website">
  <meta property="og:url" content="{{ site.url | default: 'https://eggs-studio.cl' }}{{ page.url }}">
  <meta property="og:image" content="{{ site.url | default: 'https://eggs-studio.cl' }}/assets/img/EGGSLOGOindex.jpg">
  <meta property="og:locale" content="es_CL">
  <meta property="og:site_name" content="EGGS-Studio">

  <!-- JSON-LD Schema: Organización + Negocio Local -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": ["Organization", "LocalBusiness"],
    "name": "EGGS-Studio",
    "legalName": "E.GG.S – Producciones & Art SpA",
    "url": "{{ site.url | default: 'https://eggs-studio.cl' }}",
    "logo": "{{ site.url | default: 'https://eggs-studio.cl' }}/assets/img/EGGSLOGOindex1.jpg",
    "image": "{{ site.url | default: 'https://eggs-studio.cl' }}/assets/img/EGGSLOGOindex1.png",
    "description": "Arte chileno y muralismo comunitario de Esteban Garnica. Murales, restauración de obras de arte y proyectos de arte público en La Florida, Santiago de Chile.",
    "sameAs": [
      "https://www.facebook.com/ART.EGarnica",
      "https://www.instagram.com/egarnicasanchez"
    ],
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "La Florida",
      "addressRegion": "Región Metropolitana",
      "addressCountry": "CL"
    },
    "areaServed": [
      "La Florida",
      "Santiago",
      "Región Metropolitana de Santiago",
      "Chile"
    ],
    "founder": {
      "@type": "Person",
      "name": "Esteban Armando Garnica Sánchez",
      "jobTitle": "Artista visual y muralista"
    }
  }
  </script>

  <!-- Owl Carousel CSS (solo si la página lo requiere) -->
  {% if page.carousel %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
  {% endif %}

  <!-- Hojas de Estilo Personalizadas -->
  <link rel="stylesheet" href="/assets/css/style.css">
  {% if page.carousel %}
    <link rel="stylesheet" href="/assets/css/carousel.css">
  {% endif %}

  <!-- Mermaid (solo si se requiere) -->
  {% if page.mermaid %}
    <script>
      window.__MERMAID_CONFIG__ = {
        startOnLoad: false,
        theme: 'dark',
        themeVariables: {
          background: 'transparent',

          /* NODOS (alineado a tu paleta) */
          primaryColor: '#f0f0f0',       /* --color-claro */
          secondaryColor: '#e0e0e0',
          tertiaryColor: '#d6d6d6',

          /* Texto dentro de nodos */
          primaryTextColor: '#222222',

          /* Borde */
          primaryBorderColor: '#aaaaaa', /* --color-medio-claro */

          /* Conectores claros sobre fondo #222/#333 */
          lineColor: '#f0f0f0',
          arrowheadColor: '#f0f0f0',

          /* Tipografía */
          fontFamily: 'Inter, system-ui, sans-serif',
          fontSize: '15px'
        },
        flowchart: { wrap: true, curve: 'basis' },
        sequence: { actorMargin: 50, boxMargin: 10, boxTextMargin: 5, noteMargin: 10 },
        gantt: { barHeight: 20, barGap: 4, topPadding: 50, leftPadding: 75, gridLineStartPadding: 35, fontSize: 18 }
      };
    </script>

    <script defer src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <script defer src="/assets/js/diagram.js"></script>
  {% endif %}
</head>

<body>
  <!-- Encabezado / Navegación -->
  {% include header-es.html %}

  <!-- Contenido principal -->
  <main id="main-content" role="main">
    {% if content %}
      {{ content }}
    {% else %}
      <p>El contenido no está disponible en este momento. Por favor, intente nuevamente más tarde.</p>
    {% endif %}
  </main>

  <!-- Pie de página -->
  {% include footer-es.html %}

  <!-- Scripts generales -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Owl Carousel JS + init (solo si la página lo requiere) -->
  {% if page.carousel %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <script src="/assets/js/carousel-init.js"></script>
  {% endif %}

  <!-- Script de la barra de progreso, solo si 'progreso: true' está definido -->
  {% if page.progreso %}
    <script src="/assets/js/progreso.js" defer></script>
  {% endif %}

  <!-- Script del menú -->
  <script src="/assets/js/menu.js" defer></script>
</body>
</html>
